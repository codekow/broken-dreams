schemaVersion: "2.2.0"
metadata:
  name: "myDevfile"
  version: "0.0.1"
components:
  - attributes:
      container-overrides:
        resources:
          limits:
            nvidia.com/gpu: '1'
      controller.devfile.io/merge-contribution: true
    container:
      image: ghcr.io/redhat-na-ssa/udi-cuda:latest
      memoryLimit: 2G
      cpuLimit: 1000m
      mountSources: true
      sourceMapping: /projects
    name: python
  - name: can-i-haz-gpu
    attributes:
      container-overrides:
        resources:
          limits:
            nvidia.com/gpu: '1'
    container:
      image: k8s.gcr.io/cuda-vector-add:v0.1
      # dedicatedPod: true
      memoryLimit: 512Mi
commands:
  - id: can-i-haz-gpu
    apply:
      component: can-i-haz-gpu      
events:
  preStart:
    - can-i-haz-gpu